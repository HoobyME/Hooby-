<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ÙØ­Øµ Ù…ÙØ§ØªÙŠØ­ BunnyCDN</title>
    <style>body{font-family:sans-serif; padding:20px; text-align:center;} input{padding:10px; width:80%; margin:10px 0; direction:ltr;} button{padding:10px 20px; background:blue; color:white; cursor:pointer;} #result{margin-top:20px; font-weight:bold; color:red; direction:ltr; text-align:left; background:#eee; padding:10px;}</style>
</head>
<body>
    <h2>ğŸ•µï¸â€â™‚ï¸ ÙØ­Øµ Ø§ØªØµØ§Ù„ BunnyCDN</h2>
    
    <label>Ø§Ø³Ù… Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† (Storage Name):</label><br>
    <input type="text" id="storeName" value="hoooby"><br>
    
    <label>Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø³Ø±ÙŠ (Password/API Key):</label><br>
    <input type="text" id="apiKey" placeholder="Ø¶Ø¹ Ù…ÙØªØ§Ø­Ùƒ Ù‡Ù†Ø§"><br>
    
    <label>Ø§Ø®ØªØ± Ù…Ù„ÙØ§Ù‹ Ù„Ù„ØªØ¬Ø±Ø¨Ø©:</label><br>
    <input type="file" id="fileInput"><br>
    
    <button onclick="testUpload()">Ø¬Ø±Ø¨ Ø§Ù„Ø±ÙØ¹ Ø§Ù„Ø§Ù†</button>
    
    <div id="result">Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...</div>

    <script>
        async function testUpload() {
            const storeName = document.getElementById('storeName').value;
            const apiKey = document.getElementById('apiKey').value;
            const file = document.getElementById('fileInput').files[0];
            const resultDiv = document.getElementById('result');

            if(!file || !apiKey || !storeName) {
                resultDiv.innerText = "âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!";
                return;
            }

            resultDiv.innerText = "â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ BunnyCDN...";
            resultDiv.style.color = "blue";

            // ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Ø£Ù„Ù…Ø§Ù†ÙŠØ§)
            const url = `https://storage.bunnycdn.com/${storeName}/test-file-${Date.now()}.txt`;

            try {
                const response = await fetch(url, {
                    method: 'PUT',
                    headers: {
                        'AccessKey': apiKey,
                        'Content-Type': 'application/octet-stream'
                    },
                    body: file
                });

                const text = await response.json();

                if (response.ok) {
                    resultDiv.innerHTML = "âœ… <span style='color:green'>Ù†Ø¬Ø­ Ø§Ù„Ø±ÙØ¹! Ø§Ù„Ù…ÙØ§ØªÙŠØ­ ØµØ­ÙŠØ­Ø© 100%.</span><br>Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¹Ù…Ù„.";
                } else {
                    if(response.status === 401) {
                        resultDiv.innerHTML = "âŒ <span style='color:red'>Ø®Ø·Ø£ 401: ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©!</span><br>ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ Ù†Ø³Ø®Øª Ø§Ù„Ù€ Password ÙˆÙ„ÙŠØ³ Read-Only.";
                    } else if(response.status === 404) {
                        resultDiv.innerHTML = "âŒ <span style='color:red'>Ø®Ø·Ø£ 404: Ø§Ø³Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø®Ø·Ø£!</span><br>ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø·Ù‚Ø© (hoooby).";
                    } else {
                        resultDiv.innerText = `âŒ ÙØ´Ù„ Ø¨Ø±Ù…Ø² ${response.status}: ${JSON.stringify(text)}`;
                    }
                }
            } catch (error) {
                resultDiv.innerText = "âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ© Ø£Ùˆ Ø§Ù„Ø§Ø³Ù…: " + error.message;
            }
        }
    </script>
</body>
</html>
